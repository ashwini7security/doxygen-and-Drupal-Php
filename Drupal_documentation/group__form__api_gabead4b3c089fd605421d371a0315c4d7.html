<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Shopcart: drupal_build_form</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Shopcart
   &#160;<span id="projectnumber">version2.0</span>
   </div>
   <div id="projectbrief">Shoppingcart</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="group__form__api.html">Form generation</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga908b7f94c6c9a0ef07a62466c6c196d7.html#ga908b7f94c6c9a0ef07a62466c6c196d7">_form_builder_handle_input_element</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga3f83a917fae34f718032f4a104bc6b36.html#ga3f83a917fae34f718032f4a104bc6b36">_form_button_was_clicked</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga8ce84d64b9ae0576619ec4399cee2b35.html#ga8ce84d64b9ae0576619ec4399cee2b35">_form_element_triggered_scripted_submission</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gabd44cc736d333ca82ef8c6d1dba2dc96.html#gabd44cc736d333ca82ef8c6d1dba2dc96">_form_options_flatten</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gac8800bdf25db7c100ccf2fd0dcbb25f0.html#gac8800bdf25db7c100ccf2fd0dcbb25f0">_form_set_class</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga464b4724506722d2a2d482df27736357.html#ga464b4724506722d2a2d482df27736357">_form_validate</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga2a44cde876324e1333edb5fda5799c83.html#ga2a44cde876324e1333edb5fda5799c83">date_validate</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="group__form__api_gabead4b3c089fd605421d371a0315c4d7.html#gabead4b3c089fd605421d371a0315c4d7">drupal_build_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga4312d7fe0602f6359153fc62cba1ca24.html#ga4312d7fe0602f6359153fc62cba1ca24">drupal_form_submit</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga720df81a837b06dfe19daf1c1eea3437.html#ga720df81a837b06dfe19daf1c1eea3437">drupal_get_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga79309515217249c16c7e4a7117141120.html#ga79309515217249c16c7e4a7117141120">drupal_prepare_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga61186f5c43533761544a778918818fd2.html#ga61186f5c43533761544a778918818fd2">drupal_process_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga72bc81db2eb72bbb1249a7c50d8614e7.html#ga72bc81db2eb72bbb1249a7c50d8614e7">drupal_rebuild_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga552fc91207f10c473d36bf3f9889506c.html#ga552fc91207f10c473d36bf3f9889506c">drupal_redirect_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga82f16e1c86833aa88bf93adf93bae9bb.html#ga82f16e1c86833aa88bf93adf93bae9bb">drupal_retrieve_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga05a4aea7c6aa28db24a5f96da6948f34.html#ga05a4aea7c6aa28db24a5f96da6948f34">drupal_validate_form</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga6fffa62178c1fc94329e142b083e9b1c.html#ga6fffa62178c1fc94329e142b083e9b1c">element_validate_integer</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gad8feb4fd6d8404783042cde1146f53cf.html#gad8feb4fd6d8404783042cde1146f53cf">element_validate_integer_positive</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga64f40a7bf432284ba5b15021445abd86.html#ga64f40a7bf432284ba5b15021445abd86">element_validate_number</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gae839323ba1c81ba86030b496fee24f7d.html#gae839323ba1c81ba86030b496fee24f7d">form_builder</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga0e498e7fdd19cabd0b76efbea3e36bba.html#ga0e498e7fdd19cabd0b76efbea3e36bba">form_clear_error</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga0e6b470194005ad3ff2fbf45f671dfa9.html#ga0e6b470194005ad3ff2fbf45f671dfa9">form_error</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga9e32d49f4ca85da10a29dcfec27dd526.html#ga9e32d49f4ca85da10a29dcfec27dd526">form_execute_handlers</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gab1da3001a3773a949188b52f61a9cd09.html#gab1da3001a3773a949188b52f61a9cd09">form_get_cache</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gae57581ad2406d61116a133b99142283b.html#gae57581ad2406d61116a133b99142283b">form_get_error</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga158b3db5e88e96bf060c524cebcb8130.html#ga158b3db5e88e96bf060c524cebcb8130">form_get_errors</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga88bf27e1f6246789acc77dd1686e0276.html#ga88bf27e1f6246789acc77dd1686e0276">form_get_options</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga9c29fd030cf29d55e40f849de8dde040.html#ga9c29fd030cf29d55e40f849de8dde040">form_load_include</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga683d5114e3e455ffee9bbfbb8b947bb7.html#ga683d5114e3e455ffee9bbfbb8b947bb7">form_options_flatten</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gac0bc3f3520adb84698903c4d0078fe2c.html#gac0bc3f3520adb84698903c4d0078fe2c">form_pre_render_conditional_form_element</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga10c77d235a5451895a3d2862b1ff4e34.html#ga10c77d235a5451895a3d2862b1ff4e34">form_pre_render_fieldset</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga32dae38034437282e774ecf9436fcdaa.html#ga32dae38034437282e774ecf9436fcdaa">form_process_actions</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gab1a1b30f07888d0fa0de8b8222ee7994.html#gab1a1b30f07888d0fa0de8b8222ee7994">form_process_checkbox</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga916a0224fe0771749af2c05dfdb13df1.html#ga916a0224fe0771749af2c05dfdb13df1">form_process_checkboxes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga8a121eab47e8d864fcc62f8d8443f501.html#ga8a121eab47e8d864fcc62f8d8443f501">form_process_container</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gabc6b74cff84954f970d4997390473160.html#gabc6b74cff84954f970d4997390473160">form_process_date</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gae2acfa7f531c487ac930d3a819ee63b5.html#gae2acfa7f531c487ac930d3a819ee63b5">form_process_fieldset</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gacc2045f1fc86919221685bd809d22812.html#gacc2045f1fc86919221685bd809d22812">form_process_machine_name</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gae3a3dcd1a5e4e44c5c03bb1426066596.html#gae3a3dcd1a5e4e44c5c03bb1426066596">form_process_password_confirm</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga61392e82fbc6eeeaf967b864da098ebc.html#ga61392e82fbc6eeeaf967b864da098ebc">form_process_radios</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga1a2156b4aa18f567264d8c7aafd85dca.html#ga1a2156b4aa18f567264d8c7aafd85dca">form_process_select</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga4dc085d5191106b1a649c6df67feee30.html#ga4dc085d5191106b1a649c6df67feee30">form_process_tableselect</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gaad2f405e02e146b5cfe75912a67964d6.html#gaad2f405e02e146b5cfe75912a67964d6">form_process_vertical_tabs</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga8d816602aa24f851579022bb37feac42.html#ga8d816602aa24f851579022bb37feac42">form_process_weight</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga018022f493d295538cb6d8d312dab866.html#ga018022f493d295538cb6d8d312dab866">form_select_options</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga274fe9a7fe000a43b7f173e3b54dae7f.html#ga274fe9a7fe000a43b7f173e3b54dae7f">form_set_cache</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga6f4ecbec42e905390e521b393417f97f.html#ga6f4ecbec42e905390e521b393417f97f">form_set_error</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga2a377a1fcccea79d06d1a735dea433f3.html#ga2a377a1fcccea79d06d1a735dea433f3">form_set_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga398705411ef7b0f88e08253a56683987.html#ga398705411ef7b0f88e08253a56683987">form_state_defaults</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gabffb5c6a1218bb14db316fe29c4e52af.html#gabffb5c6a1218bb14db316fe29c4e52af">form_state_keys_no_cache</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga012a73101cc9e2bfbb9e9a41c4e0a723.html#ga012a73101cc9e2bfbb9e9a41c4e0a723">form_state_values_clean</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gae6014b94202e1d6e5c55421fc5b7d368.html#gae6014b94202e1d6e5c55421fc5b7d368">form_type_checkbox_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gaab8c7b8878c056d35d6000bb0fab3b2b.html#gaab8c7b8878c056d35d6000bb0fab3b2b">form_type_checkboxes_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga504ddd599ddb4a4992638ec6afb7cd40.html#ga504ddd599ddb4a4992638ec6afb7cd40">form_type_image_button_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga3e473dba683cd32c95de1193f2a8fb94.html#ga3e473dba683cd32c95de1193f2a8fb94">form_type_password_confirm_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gaf0ad41f155f7ae8eae8386f3702b56f8.html#gaf0ad41f155f7ae8eae8386f3702b56f8">form_type_radios_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga244474506f87e80bc91f5d1e3be2a35e.html#ga244474506f87e80bc91f5d1e3be2a35e">form_type_select_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gad36759844e875d35e1e220e90c460984.html#gad36759844e875d35e1e220e90c460984">form_type_tableselect_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gaf2e351ecad2b3f0a3b319d110bf4b84b.html#gaf2e351ecad2b3f0a3b319d110bf4b84b">form_type_textfield_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga0f9d352bfa7b36285b8ba1bf9fe3c9ca.html#ga0f9d352bfa7b36285b8ba1bf9fe3c9ca">form_type_token_value</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga22965a0e68fef7765e0eb2c475440e55.html#ga22965a0e68fef7765e0eb2c475440e55">form_validate_machine_name</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_ga11e3cb67c8622b662acc4dff61e146a7.html#ga11e3cb67c8622b662acc4dff61e146a7">map_month</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gafa275652bc0a5641a124bc60727caa8a.html#gafa275652bc0a5641a124bc60727caa8a">password_confirm_validate</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__form__api_gad80eba4897b841808cb71e6ba97603b2.html#gad80eba4897b841808cb71e6ba97603b2">weight_value</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a class="anchor" id="gabead4b3c089fd605421d371a0315c4d7"></a><!-- doxytag: member="form.inc::drupal_build_form" ref="gabead4b3c089fd605421d371a0315c4d7" args="($form_id, &amp;$form_state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__form__api_gabead4b3c089fd605421d371a0315c4d7.html#gabead4b3c089fd605421d371a0315c4d7">drupal_build_form</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Builds and process a form based on a form id. </p>
<p>The form may also be retrieved from the cache if the form was built in a previous page-load. The form is then passed on for processing, validation and submission if there is proper input.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$form_id</td><td>The unique string identifying the desired form. If a function with that name exists, it is called to build the form array. Modules that need to generate the same form (or very similar forms) using different $form_ids can implement hook_forms(), which maps different $form_id values to the proper form constructor function. Examples may be found in node_forms(), and search_forms(). </td></tr>
    <tr><td class="paramname">$form_state</td><td>An array which stores information about the form. This is passed as a reference so that the caller can use it to examine what in the form changed when the form submission process is complete. Furthermore, it may be used to store information related to the processed data in the form, which will persist across page requests when the 'cache' or 'rebuild' flag is set. The following parameters may be set in $form_state to affect how the form is rendered:<ul>
<li>build_info: Internal. An associative array of information stored by Form API that is necessary to build and rebuild the form from cache when the original context may no longer be available:<ul>
<li>args: A list of arguments to pass to the form constructor.</li>
<li>files: An optional array defining include files that need to be loaded for building the form. Each array entry may be the path to a file or another array containing values for the parameters 'type', 'module' and 'name' as needed by <a class="el" href="module_8inc_a49098ed4d33650ee5ab52aab40982423.html#a49098ed4d33650ee5ab52aab40982423" title="Load a module include file.">module_load_include()</a>. The files listed here are automatically loaded by <a class="el" href="group__form__api_gab1da3001a3773a949188b52f61a9cd09.html#gab1da3001a3773a949188b52f61a9cd09" title="Fetches a form from cache.">form_get_cache()</a>. By default the current menu router item's 'file' definition is added, if any. Use <a class="el" href="group__form__api_ga9c29fd030cf29d55e40f849de8dde040.html#ga9c29fd030cf29d55e40f849de8dde040" title="Ensures an include file is loaded whenever the form is processed.">form_load_include()</a> to add include files from a form constructor.</li>
<li>form_id: Identification of the primary form being constructed and processed.</li>
<li>base_form_id: Identification for a base form, as declared in a hook_forms() implementation.</li>
</ul>
</li>
<li>rebuild_info: Internal. Similar to 'build_info', but pertaining to <a class="el" href="group__form__api_ga72bc81db2eb72bbb1249a7c50d8614e7.html#ga72bc81db2eb72bbb1249a7c50d8614e7" title="Constructs a new $form from the information in $form_state.">drupal_rebuild_form()</a>.</li>
<li>rebuild: Normally, after the entire form processing is completed and submit handlers have run, a form is considered to be done and <a class="el" href="group__form__api_ga552fc91207f10c473d36bf3f9889506c.html#ga552fc91207f10c473d36bf3f9889506c" title="Redirects the user to a URL after a form has been processed.">drupal_redirect_form()</a> will redirect the user to a new page using a GET request (so a browser refresh does not re-submit the form). However, if 'rebuild' has been set to TRUE, then a new copy of the form is immediately built and sent to the browser, instead of a redirect. This is used for multi-step forms, such as wizards and confirmation forms. Normally, $form_state['rebuild'] is set by a submit handler, since it is usually logic within a submit handler that determines whether a form is done or requires another step. However, a validation handler may already set $form_state['rebuild'] to cause the form processing to bypass submit handlers and rebuild the form instead, even if there are no validation errors.</li>
<li>redirect: Used to redirect the form on submission. It may either be a string containing the destination URL, or an array of arguments compatible with <a class="el" href="group__http__handling_ga5b68d7a934713d1d623b2b32a732235d.html#ga5b68d7a934713d1d623b2b32a732235d" title="Sends the user to a different Drupal page.">drupal_goto()</a>. See <a class="el" href="group__form__api_ga552fc91207f10c473d36bf3f9889506c.html#ga552fc91207f10c473d36bf3f9889506c" title="Redirects the user to a URL after a form has been processed.">drupal_redirect_form()</a> for complete information.</li>
<li>no_redirect: If set to TRUE the form will NOT perform a <a class="el" href="group__http__handling_ga5b68d7a934713d1d623b2b32a732235d.html#ga5b68d7a934713d1d623b2b32a732235d" title="Sends the user to a different Drupal page.">drupal_goto()</a>, even if 'redirect' is set.</li>
<li>method: The HTTP form method to use for finding the input for this form. May be 'post' or 'get'. Defaults to 'post'. Note that 'get' method forms do not use form ids so are always considered to be submitted, which can have unexpected effects. The 'get' method should only be used on forms that do not change data, as that is exclusively the domain of 'post.'</li>
<li>cache: If set to TRUE the original, unprocessed form structure will be cached, which allows the entire form to be rebuilt from cache. A typical form workflow involves two page requests; first, a form is built and rendered for the user to fill in. Then, the user fills the form in and submits it, triggering a second page request in which the form must be built and processed. By default, $form and $form_state are built from scratch during each of these page requests. Often, it is necessary or desired to persist the $form and $form_state variables from the initial page request to the one that processes the submission. 'cache' can be set to TRUE to do this. A prominent example is an Ajax-enabled form, in which <a class="el" href="group__ajax_ga41a006b5f6d97e6e56e542f68fbc340d.html#ga41a006b5f6d97e6e56e542f68fbc340d" title="Form element processing handler for the #ajax form property.">ajax_process_form()</a> enables form caching for all forms that include an element with the #ajax property. (The Ajax handler has no way to build the form itself, so must rely on the cached version.) Note that the persistence of $form and $form_state happens automatically for (multi-step) forms having the 'rebuild' flag set, regardless of the value for 'cache'.</li>
<li>no_cache: If set to TRUE the form will NOT be cached, even if 'cache' is set.</li>
<li>values: An associative array of values submitted to the form. The validation functions and submit functions use this array for nearly all their decision making. (Note that <a class="el" href="">#tree </a> determines whether the values are a flat array or an array whose structure parallels the $form array.)</li>
<li>input: The array of values as they were submitted by the user. These are raw and unvalidated, so should not be used without a thorough understanding of security implications. In almost all cases, code should use the data in the 'values' array exclusively. The most common use of this key is for multi-step forms that need to clear some of the user input when setting 'rebuild'. The values correspond to $_POST or $_GET, depending on the 'method' chosen.</li>
<li>always_process: If TRUE and the method is GET, a form_id is not necessary. This should only be used on RESTful GET forms that do NOT write data, as this could lead to security issues. It is useful so that searches do not need to have a form_id in their query arguments to trigger the search.</li>
<li>must_validate: Ordinarily, a form is only validated once, but there are times when a form is resubmitted internally and should be validated again. Setting this to TRUE will force that to happen. This is most likely to occur during Ajax operations.</li>
<li>programmed: If TRUE, the form was submitted programmatically, usually invoked via <a class="el" href="group__form__api_ga4312d7fe0602f6359153fc62cba1ca24.html#ga4312d7fe0602f6359153fc62cba1ca24" title="Retrieves, populates, and processes a form.">drupal_form_submit()</a>. Defaults to FALSE.</li>
<li>process_input: Boolean flag. TRUE signifies correct form submission. This is always TRUE for programmed forms coming from <a class="el" href="group__form__api_ga4312d7fe0602f6359153fc62cba1ca24.html#ga4312d7fe0602f6359153fc62cba1ca24" title="Retrieves, populates, and processes a form.">drupal_form_submit()</a> (see 'programmed' key), or if the form_id coming from the $_POST data is set and matches the current form_id.</li>
<li>submitted: If TRUE, the form has been submitted. Defaults to FALSE.</li>
<li>executed: If TRUE, the form was submitted and has been processed and executed. Defaults to FALSE.</li>
<li>triggering_element: (read-only) The form element that triggered submission. This is the same as the deprecated $form_state['clicked_button']. It is the element that caused submission, which may or may not be a button (in the case of Ajax forms). This key is often used to distinguish between various buttons in a submit handler, and is also used in Ajax handlers.</li>
<li>clicked_button: Deprecated. Use triggering_element instead.</li>
<li>has_file_element: Internal. If TRUE, there is a file element and Form API will set the appropriate 'enctype' HTML attribute on the form.</li>
<li>groups: Internal. An array containing references to fieldsets to render them within vertical tabs.</li>
<li>storage: $form_state['storage'] is not a special key, and no specific support is provided for it in the Form API. By tradition it was the location where application-specific data was stored for communication between the submit, validation, and form builder functions, especially in a multi-step-style form. Form implementations may use any key(s) within $form_state (other than the keys listed here and other reserved ones used by Form API internals) for this kind of storage. The recommended way to ensure that the chosen key doesn't conflict with ones used by the Form API or other modules is to use the module name as the key name or a prefix for the key name. For example, the Node module uses $form_state['node'] in node editing forms to store information about the node being edited, and this information stays available across successive clicks of the "Preview" button as well as when the "Save" button is finally clicked.</li>
<li>buttons: A list containing copies of all submit and button elements in the form.</li>
<li>complete form: A reference to the $form variable containing the complete form structure. #process, #after_build, #element_validate, and other handlers being invoked on a form element may use this reference to access other information in the form the element is contained in.</li>
<li>temporary: An array holding temporary data accessible during the current page request only. All $form_state properties that are not reserved keys (see <a class="el" href="group__form__api_gabffb5c6a1218bb14db316fe29c4e52af.html#gabffb5c6a1218bb14db316fe29c4e52af" title="Returns an array of $form_state keys that shouldn&#39;t be cached.">form_state_keys_no_cache()</a>) persist throughout a multistep form sequence. Form API provides this key for modules to communicate information across form-related functions during a single page request. It may be used to temporarily save data that does not need to or should not be cached during the whole form workflow; e.g., data that needs to be accessed during the current form build process only. There is no use-case for this functionality in Drupal core.</li>
<li>wrapper_callback: Modules that wish to pre-populate certain forms with common elements, such as back/next/save buttons in multi-step form wizards, may define a form builder function name that returns a form structure, which is passed on to the actual form builder function. Such implementations may either define the 'wrapper_callback' via hook_forms() or have to invoke <a class="el" href="group__form__api_gabead4b3c089fd605421d371a0315c4d7.html#gabead4b3c089fd605421d371a0315c4d7" title="Builds and process a form based on a form id.">drupal_build_form()</a> (instead of <a class="el" href="group__form__api_ga720df81a837b06dfe19daf1c1eea3437.html#ga720df81a837b06dfe19daf1c1eea3437" title="Returns a renderable form array for a given form ID.">drupal_get_form()</a>) on their own in a custom menu callback to prepare $form_state accordingly. Information on how certain $form_state properties control redirection behavior after form submission may be found in <a class="el" href="group__form__api_ga552fc91207f10c473d36bf3f9889506c.html#ga552fc91207f10c473d36bf3f9889506c" title="Redirects the user to a URL after a form has been processed.">drupal_redirect_form()</a>.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The rendered form. This function may also perform a redirect and hence may not return at all, depending upon the $form_state flags that were set.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__form__api_ga552fc91207f10c473d36bf3f9889506c.html#ga552fc91207f10c473d36bf3f9889506c" title="Redirects the user to a URL after a form has been processed.">drupal_redirect_form()</a> </dd></dl>

<p>Definition at line <a class="el" href="form_8inc_source.html#l00304">304</a> of file <a class="el" href="form_8inc_source.html">form.inc</a>.</p>

</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 22 2012 16:46:17 for Shopcart by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
