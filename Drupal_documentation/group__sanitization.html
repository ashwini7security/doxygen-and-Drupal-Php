<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Shopcart: Sanitization functions</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Shopcart
   &#160;<span id="projectnumber">version2.0</span>
   </div>
   <div id="projectbrief">Shoppingcart</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Sanitization functions</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to sanitize values.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga46ff2822d576a77317f9045d65317b4f.html#ga46ff2822d576a77317f9045d65317b4f">drupal_strip_dangerous_protocols</a> ($uri)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Strips dangerous protocols (e.g.  <a href="#ga46ff2822d576a77317f9045d65317b4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_gac024315b69035ef05c33674838707919.html#gac024315b69035ef05c33674838707919">check_url</a> ($uri)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Strips dangerous protocols from a URI and encodes it for output to HTML.  <a href="#gac024315b69035ef05c33674838707919"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga97dcceb77b76539219af2a85eacbe18d.html#ga97dcceb77b76539219af2a85eacbe18d">filter_xss_admin</a> ($string)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies a very permissive XSS/HTML filter for admin-only use.  <a href="#ga97dcceb77b76539219af2a85eacbe18d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga8864a29ffa8de5c9f8dc9e417060660d.html#ga8864a29ffa8de5c9f8dc9e417060660d">filter_xss</a> ($string, $allowed_tags=array('a', 'em', 'strong', 'cite', 'blockquote', 'code', 'ul', 'ol', 'li', 'dl', 'dt', 'dd'))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters HTML to prevent cross-site-scripting (XSS) vulnerabilities.  <a href="#ga8864a29ffa8de5c9f8dc9e417060660d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga1cc6cca885f021adcf11970b8ec4c846.html#ga1cc6cca885f021adcf11970b8ec4c846">_filter_xss_split</a> ($m, $store=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes an HTML tag.  <a href="#ga1cc6cca885f021adcf11970b8ec4c846"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga3c24df8bdf07aa972dd82aa2ab35858f.html#ga3c24df8bdf07aa972dd82aa2ab35858f">_filter_xss_attributes</a> ($attr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a string of HTML attributes.  <a href="#ga3c24df8bdf07aa972dd82aa2ab35858f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga81affabdadf9d999874d5a69316ec8c8.html#ga81affabdadf9d999874d5a69316ec8c8">filter_xss_bad_protocol</a> ($string, $decode=TRUE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes an HTML attribute value and strips dangerous protocols from URLs.  <a href="#ga81affabdadf9d999874d5a69316ec8c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_gacf11629fb3d1ebf200863e2d15380b4a.html#gacf11629fb3d1ebf200863e2d15380b4a">drupal_attributes</a> (array $attributes=array())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an associative array to an XML/HTML tag attribute string.  <a href="#gacf11629fb3d1ebf200863e2d15380b4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_gabc78d1b88aa8081093abbbf71a516c7c.html#gabc78d1b88aa8081093abbbf71a516c7c">st</a> ($string, array $args=array(), array $options=array())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Functional equivalent of <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a>, used when some systems are not available.  <a href="#gabc78d1b88aa8081093abbbf71a516c7c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
into your string, and t() will</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc24520cd0c9d113d5113bfec581ba6b9"></a>Translates a string to the current language or to a given language.</p>
<p>The <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> function serves two purposes. First, at run-time it translates user-visible text into the appropriate language. Second, various mechanisms that figure out what text needs to be translated work off <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> -- the text inside <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> calls is added to the database of strings to be translated. These strings are expected to be in English, so the first argument should always be in English. To enable a fully-translatable site, it is important that all human-readable text that will be displayed on the site or sent to a user is passed through the <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> function, or a related function. See the <a class="el" href="">Localization API </a> pages for more information, including recommendations on how to break up or not break up strings for translation.</p>
<p>You should never use <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> to translate variables, such as calling </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t</a>($text); 
</pre></div><p>, unless the text that the variable holds has been passed through <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> elsewhere (e.g., $text is one of several translated literal strings in an array). It is especially important never to call </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t</a>($user_text); 
</pre></div><p>, where $user_text is some text that a user entered - doing that can lead to cross-site scripting and other security problems. However, you can use variable substitution in your string, to put variable text such as user names or link URLs into translated text. Variable substitution looks like this: </p>
<div class="fragment"><pre class="fragment"> $text = <a class="code" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t</a>(<span class="stringliteral">&quot;@name&#39;s blog&quot;</span>, array(<span class="stringliteral">&#39;@name&#39;</span> =&gt; <a class="code" href="group__format_ga7124a026ecfacc51c57a75fcc083f136.html#ga7124a026ecfacc51c57a75fcc083f136" title="Format a username.">format_username</a>($account)));
</pre></div><p> Basically, you can put variables like substitute their sanitized values at translation time. (See the Localization API pages referenced above and the documentation of <a class="el" href="group__sanitization_ga8da272cf93fb6ba229eca7c0b06ea4d2.html#ga8da272cf93fb6ba229eca7c0b06ea4d2" title="Replaces placeholders with sanitized values in a string.">format_string()</a> for details.) Translators can then rearrange the string as necessary for the language (e.g., in Spanish, it might be "blog de @name").</p>
<p>During the Drupal installation phase, some resources used by <a class="el" href="bootstrap_8inc_a1be9937b04ff350b23d01fddef1e031a.html#a1be9937b04ff350b23d01fddef1e031a" title="Replaces placeholders with sanitized values in a string.">t()</a> wil not be available to code that needs localization. See <a class="el" href="group__sanitization_gabc78d1b88aa8081093abbbf71a516c7c.html#gabc78d1b88aa8081093abbbf71a516c7c" title="Functional equivalent of t(), used when some systems are not available.">st()</a> and <a class="el" href="group__sanitization_gaa50232f577883a48731fc93530628a79.html#gaa50232f577883a48731fc93530628a79" title="Returns the name of the proper localization function.">get_t()</a> for alternatives.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$string</td><td>A string containing the English string to translate. </td></tr>
    <tr><td class="paramname">$args</td><td>An associative array of replacements to make after translation. Based on the first character of the key, the value is escaped and/or themed. See <a class="el" href="group__sanitization_ga8da272cf93fb6ba229eca7c0b06ea4d2.html#ga8da272cf93fb6ba229eca7c0b06ea4d2" title="Replaces placeholders with sanitized values in a string.">format_string()</a> for details. </td></tr>
    <tr><td class="paramname">$options</td><td>An associative array of additional options, with the following elements:<ul>
<li>'langcode' (defaults to the current language): The language code to translate to a language other than what is used to display the page.</li>
<li>'context' (defaults to the empty context): The context the source string belongs to.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The translated string.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__sanitization_gabc78d1b88aa8081093abbbf71a516c7c.html#gabc78d1b88aa8081093abbbf71a516c7c" title="Functional equivalent of t(), used when some systems are not available.">st()</a> </dd>
<dd>
<a class="el" href="group__sanitization_gaa50232f577883a48731fc93530628a79.html#gaa50232f577883a48731fc93530628a79" title="Returns the name of the proper localization function.">get_t()</a> </dd>
<dd>
<a class="el" href="group__sanitization_ga8da272cf93fb6ba229eca7c0b06ea4d2.html#ga8da272cf93fb6ba229eca7c0b06ea4d2" title="Replaces placeholders with sanitized values in a string.">format_string()</a> </dd></dl>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga8da272cf93fb6ba229eca7c0b06ea4d2.html#ga8da272cf93fb6ba229eca7c0b06ea4d2">format_string</a> ($string, array $args=array())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces placeholders with sanitized values in a string.  <a href="#ga8da272cf93fb6ba229eca7c0b06ea4d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_ga76fc67a30fd8d75ddd80565e6e65a13d.html#ga76fc67a30fd8d75ddd80565e6e65a13d">check_plain</a> ($text)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes special characters in a plain-text string for display as HTML.  <a href="#ga76fc67a30fd8d75ddd80565e6e65a13d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sanitization_gaa50232f577883a48731fc93530628a79.html#gaa50232f577883a48731fc93530628a79">get_t</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the proper localization function.  <a href="#gaa50232f577883a48731fc93530628a79"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions to sanitize values. </p>
<p>See <a href="http://drupal.org/writing-secure-code">http://drupal.org/writing-secure-code</a> for information on writing secure code. </p>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 22 2012 16:46:17 for Shopcart by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
